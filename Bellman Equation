import numpy as np
MAX_INV = 5          
gamma = 0.9          

V = np.zeros(MAX_INV + 1)
policy = np.zeros(MAX_INV + 1, dtype=int)
holding_cost = 1
shortage_cost = 5
order_cost = 2
demand = 1

for _ in range(50): 
    new_V = np.zeros(MAX_INV + 1)

    for s in range(MAX_INV + 1):
        costs = []

        for a in range(MAX_INV - s + 1):
            inventory = s + a - demand

            if inventory >= 0:
                cost = holding_cost * inventory + order_cost * a
            else:
                cost = shortage_cost * abs(inventory) + order_cost * a

            costs.append(cost + gamma * V[max(0, inventory)])

        new_V[s] = min(costs)
        policy[s] = costs.index(min(costs))

    V = new_V
print("Optimal Value Function:")
print(np.round(V, 2))

print("\nOptimal Ordering Policy:")
for s in range(MAX_INV + 1):
    print(f"Inventory {s} â†’ Order {policy[s]} units")
